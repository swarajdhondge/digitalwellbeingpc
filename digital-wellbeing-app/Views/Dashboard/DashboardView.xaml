<UserControl x:Class="digital_wellbeing_app.Views.Dashboard.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d"
             d:DesignHeight="500" d:DesignWidth="800"
             Background="Transparent">

    <ScrollViewer HorizontalScrollBarVisibility="Disabled"
                  VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="8">

            <!-- Page Header -->
            <TextBlock Text="Dashboard"
                       Style="{StaticResource HeadingLarge}"
                       Margin="0,0,0,24"/>

            <!-- Stats Cards Grid -->
            <WrapPanel Orientation="Horizontal">

                <!-- Screen Time Card -->
                <Border Style="{StaticResource CardStat}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <StackPanel Grid.Row="0" Orientation="Horizontal">
                            <Border Background="{DynamicResource Accent.Primary}"
                                    CornerRadius="6"
                                    Padding="6">
                                <md:PackIcon Kind="Monitor" Width="16" Height="16"
                                             Foreground="{DynamicResource Accent.OnAccent}"/>
                            </Border>
                            <TextBlock Text="Screen Time"
                                       Style="{StaticResource LabelPrimary}"
                                       Margin="10,0,0,0"
                                       VerticalAlignment="Center"/>
                        </StackPanel>

                        <!-- Value -->
                        <TextBlock Grid.Row="1"
                                   Text="{Binding ScreenTime}"
                                   Style="{StaticResource StatNumber}"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Margin="0,16,0,8"/>

                        <!-- Label -->
                        <TextBlock Grid.Row="2"
                                   Text="TODAY"
                                   Style="{StaticResource LabelSecondary}"
                                   HorizontalAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- Sound Listening Card -->
                <Border Style="{StaticResource CardStat}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <StackPanel Grid.Row="0" Orientation="Horizontal">
                            <Border Background="{DynamicResource Status.Info}"
                                    CornerRadius="6"
                                    Padding="6">
                                <md:PackIcon Kind="VolumeHigh" Width="16" Height="16"
                                             Foreground="{DynamicResource Accent.OnAccent}"/>
                            </Border>
                            <TextBlock Text="Sound Output"
                                       Style="{StaticResource LabelPrimary}"
                                       Margin="10,0,0,0"
                                       VerticalAlignment="Center"/>
                        </StackPanel>

                        <!-- Value -->
                        <TextBlock Grid.Row="1"
                                   Text="{Binding SoundTime}"
                                   Style="{StaticResource StatNumber}"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Margin="0,16,0,8"/>

                        <!-- Label -->
                        <TextBlock Grid.Row="2"
                                   Text="LISTENING TODAY"
                                   Style="{StaticResource LabelSecondary}"
                                   HorizontalAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- Harmful Sound Card -->
                <Border Style="{StaticResource CardStat}"
                        BorderBrush="{DynamicResource Status.Danger}"
                        BorderThickness="0,0,0,3">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <StackPanel Grid.Row="0" Orientation="Horizontal">
                            <Border Background="{DynamicResource Status.Danger}"
                                    CornerRadius="6"
                                    Padding="6">
                                <md:PackIcon Kind="VolumeOff" Width="16" Height="16"
                                             Foreground="{DynamicResource Accent.OnAccent}"/>
                            </Border>
                            <TextBlock Text="Harmful Exposure"
                                       Style="{StaticResource LabelPrimary}"
                                       Margin="10,0,0,0"
                                       VerticalAlignment="Center"/>
                        </StackPanel>

                        <!-- Value -->
                        <TextBlock Grid.Row="1"
                                   Text="{Binding SoundHarmfulTime}"
                                   FontFamily="{StaticResource Font.Primary}"
                                   FontSize="32"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource Status.Danger}"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Margin="0,16,0,8"/>

                        <!-- Label -->
                        <TextBlock Grid.Row="2"
                                   Text="{Binding ThresholdLabel}"
                                   Style="{StaticResource LabelSecondary}"
                                   HorizontalAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- Most Used App Card -->
                <Border Style="{StaticResource CardStat}"
                        MinWidth="280">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <StackPanel Grid.Row="0" Orientation="Horizontal">
                            <Border Background="{DynamicResource Status.Warning}"
                                    CornerRadius="6"
                                    Padding="6">
                                <md:PackIcon Kind="Star" Width="16" Height="16"
                                             Foreground="{DynamicResource Accent.OnAccent}"/>
                            </Border>
                            <TextBlock Text="Most Used App"
                                       Style="{StaticResource LabelPrimary}"
                                       Margin="10,0,0,0"
                                       VerticalAlignment="Center"/>
                        </StackPanel>

                        <!-- App Info -->
                        <StackPanel Grid.Row="1"
                                    Orientation="Horizontal"
                                    VerticalAlignment="Center"
                                    Margin="0,16,0,0">
                            <!-- App Icon -->
                            <Border Background="{DynamicResource Bg.Elevated}"
                                    CornerRadius="8"
                                    Padding="8">
                                <Image Source="{Binding TopAppIcon}"
                                       Width="40" Height="40"
                                       RenderOptions.BitmapScalingMode="HighQuality"/>
                            </Border>
                            <!-- App Details -->
                            <StackPanel Margin="16,0,0,0" VerticalAlignment="Center">
                                <TextBlock Text="{Binding TopAppName}"
                                           Style="{StaticResource HeadingSmall}"/>
                                <TextBlock Text="{Binding TopAppDuration}"
                                           Style="{StaticResource LabelSecondary}"
                                           Margin="0,4,0,0"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </Border>

            </WrapPanel>

            <!-- Quick Tips Section (Future) -->
            <Border Style="{StaticResource CardFlat}"
                    Margin="0,24,0,0"
                    Visibility="Collapsed">
                <StackPanel>
                    <TextBlock Text="💡 Quick Tip"
                               Style="{StaticResource HeadingSmall}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Take a 5-minute break every 25 minutes to reduce eye strain."
                               Style="{StaticResource BodyMedium}"
                               Foreground="{DynamicResource Text.Secondary}"
                               TextWrapping="Wrap"/>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
